<!DOCTYPE html>
<html>
  <head>
    <title>
      RVM: Ruby Version Manager -
      Typical RVM Project Workflow
    </title>
    <link href='/css/screen.css' media='screen' rel='stylesheet' type='text/css'>
    <link href='https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css' rel='stylesheet' type='text/css'>
    <link href='/css/algolia-docsearch.css' rel='stylesheet' type='text/css'>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <meta content='w2V78a6cwiHD5Gm8yvlTP21xZ1YgVguDdC0JGDEA2d0' name='google-site-verification'>
    
  </head>
  <body>
    <div id='heaven'></div>
    <div id='container'>
      <div id='logo'>
        <a href='/'>
          <img alt='RVM Logo' src='/images/logo.png'>
        </a>
      </div>
      <div id='support'>
        <div class='title'>Support</div>
        <div class='text'>
          RVM is maintained by community of volunteers, report issues to
          <a href='https://github.com/rvm/rvm/issues'>
            RVM issues tracker.
          </a>
          <div class='more'>
            If you can help or wish to become one of the maintainers - just start helping.
            You can find more RVM related projects at
            <a href='https://github.com/rvm'>
              RVM GitHub organization.
            </a>
          </div>
        </div>
      </div>
      <div id='donate'>
        <div class='title'>Donation</div>
        <div class='text'>
          Love RVM? Help us maintain RVM, a donation can help with it.
          Want to help in other way, want to be a sponsor?
          <div class='more'>
            contact:
            <a href='mailto:mpapis@gmail.com'>
              Michal Papis
            </a>
          </div>
        </div>
      </div>
      <div id='sponsors'>
        <div class='title'>Sponsors</div>
        <div class='logo long'>
          <a href='https://www.fastly.com/'>
            <img alt='Fastly' height='50' src='/images/fastly_logo-01.png'>
          </a>
        </div>
      </div>
      <div id='carbon_ads_box'>
        <div class='title'>Carbon Ads</div>
        <script async='async' id='_carbonads_js' src='https://cdn.carbonads.com/carbon.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=rvmio' type='text/javascript'></script>
      </div>
      <div class='clear'></div>
      <div id='content'>
        <a id='top'></a>
        <h1><a class="anchor" href="#typical-rvm-project-workflow" name="typical-rvm-project-workflow">&infin;</a>Typical RVM Project Workflow</h1>
        
        <p>RVM supports multiple types of files to allow configuring a project for automated ruby switching.
        In any case make sure to add those files to your version control systems
        as it is part of the project configuration.</p>
        
        <h2><a class="anchor" href="#supported-files" name="supported-files">&infin;</a>Supported files</h2>
        
        <p>Listed in order of precedence:</p>
        
        <ul>
        <li><code>.rvmrc</code>         - shell script allowing full customization of the environment,</li>
        <li><code>.versions.conf</code> - <code>key=value</code> configuration file</li>
        <li><code>.ruby-version</code>  - single line <code>ruby-version</code> only</li>
        <li><code>Gemfile</code>        - comment: <code>#ruby=1.9.3</code> and directive: <code>ruby "1.9.3"</code></li>
        </ul>
        
        
        <p>Notes:</p>
        
        <ul>
        <li>only <code>.rvmrc</code> will work in all RVM versions; the other files were introduced in RVM <code>1.11.0</code>,</li>
        <li>environment switching is supported since RVM <code>1.22.0</code>.</li>
        </ul>
        
        
        <h2><a class="anchor" href="#project-file-rvmrc" name="project-file-rvmrc">&infin;</a>Project file <code>.rvmrc</code></h2>
        
        <p>This is the first supported format and it has precedence over any other files.
        <code>.rvmrc</code> has one major flaw - it requires trusting to prevent execution of unauthorized code,
        which makes it hard to use and complicates deployment to production.
        In cases where scripting is not required, use of other project files is encouraged.</p>
        
        <p>Generating a simple <code>.rvmrc</code>:</p>
        
        <pre class="code" title="triple click to select command">echo 'rvm --create use ree@tedxperth' &gt; .rvmrc</pre>
        
        <p>A more complex version:</p>
        
        <pre class="code" title="triple click to select command">rvm --create use ree@tedxperth --rvmrc</pre>
        
        <p>The file can be edited to provide extra customizations.</p>
        
        <p>To trust the file:</p>
        
        <pre class="code" title="triple click to select command">rvm rvmrc trust /path/to/project</pre>
        
        <h2><a class="anchor" href="#project-file-ruby-version" name="project-file-ruby-version">&infin;</a>Project file <code>.ruby-version</code></h2>
        
        <p>This file is also supported by <a href="https://github.com/postmodern/chruby#readme">chruby</a>
        and <a href="https://github.com/sstephenson/rbenv#readme">rbenv</a>.
        <code>.ruby-version</code> is just a ruby name so it does not require trusting and is simpler to use than <code>.rvmrc</code>.</p>
        
        <p>Generating <code>.ruby-version</code>:</p>
        
        <pre class="code" title="triple click to select command">echo 1.9.3 &gt; .ruby-version   # OR:&#x000A;rvm --ruby-version use 1.9.3</pre>
        
        <p>When in RVM, <code>.ruby-version</code> also supports gemsets in the form of <code>ruby@gemset</code>
        but this is not compatible with other Ruby Versions Managers.
        Another file might be used to specify the gemset without breaking compatibility - <code>.ruby-gemset</code>.</p>
        
        <p>Generating <code>.ruby-gemset</code>:</p>
        
        <pre class="code" title="triple click to select command">echo my_app &gt; .ruby-gemset   # OR:&#x000A;rvm --ruby-version use 1.9.3@my_app</pre>
        
        <p>The second form will create both <code>.ruby-version</code> and <code>.ruby-gemset</code>.</p>
        
        <p>Some projects require extra configuration in environment; this is supported by using the <code>.ruby-env</code> file:</p>
        
        <pre class="code" title="triple click to select command">echo "JRUBY_OPTS=--1.9" &gt;&gt; .ruby-env</pre>
        
        <p>This variable will be set when entering the project directory
        and reverted to its previous value when exiting the project directory.</p>
        
        <p>Note that the following files are also supported: <code>.rbenv-version</code> and <code>.rbenv-vars</code>, <code>.rbfu-version</code>.
        They have lower precedence than <code>.ruby-version</code>.</p>
        
        <h2><a class="anchor" href="#project-file-versionsconf" name="project-file-versionsconf">&infin;</a>Project file <code>.versions.conf</code></h2>
        
        <p>For more advanced projects <code>.versions.conf</code> is supported, where more than the ruby version can be specified.</p>
        
        <p>Generating <code>.versions.conf</code>:</p>
        
        <pre class="code" title="triple click to select command">rvm --create --versions-conf use 1.9.3@my_app</pre>
        
        <p>Example <code>.versions.conf</code>:</p>
        
        <pre class="code" title="triple click to select command">ruby=jruby-1.6.8&#x000A;ruby-gemset=my_app&#x000A;env-JRUBY_OPTS=--1.9</pre>
        
        <h2><a class="anchor" href="#project-file-gemfile" name="project-file-gemfile">&infin;</a>Project file <code>Gemfile</code></h2>
        
        <p><code>Gemfile</code>'s <code>ruby</code> directive is supported and will be read by RVM.</p>
        
        <p>Example <code>Gemfile</code>:</p>
        
        <pre class="code" title="triple click to select command">ruby "1.9.3"&#x000A;gem  "haml"</pre>
        
        <p>In case it is not possible to use the <code>ruby</code> directive or when a more fine-grained
        version is required, the following comments will take precedence over the directive:</p>
        
        <pre class="code" title="triple click to select command">#ruby=jruby-1.6.8&#x000A;#ruby-gemset=my_app&#x000A;#ruby-env-JRUBY_OPTS=--1.9</pre>
        
        <p>Another example, using MRI Ruby at a specific patch level:</p>
        
        <pre class="code" title="triple click to select command">#ruby=ruby-1.9.3-p194&#x000A;#ruby-gemset=my_app</pre>
        
        <p>Comments are preferred as older versions of <code>bundler</code> did not support the directive.</p>
        
        <h2><a class="anchor" href="#rvm-configuration" name="rvm-configuration">&infin;</a>RVM configuration</h2>
        
        <p>Those variables can be set in <code>~/.rvmrc</code> and <code>/etc/rvmrc</code>:</p>
        
        <ul>
        <li><code>rvm_project_rvmrc_default=1</code>    - Prefer default ruby when project file not found in current directory,</li>
        <li><code>rvm_autoinstall_bundler_flag=1</code> - Install <code>bundler</code> gem and run <code>bundle install</code> if <code>Gemfile</code> available.</li>
        </ul>
        
        
        <h1><a class="anchor" href="#community-resources" name="community-resources">&infin;</a>Community resources</h1>
        
        <ul>
        <li><a href="https://gist.github.com/1912050">A Common .ruby-version File For Ruby Projects</a> by <a href="https://github.com/fnichol">Fletcher Nichol</a></li>
        </ul>
        <a id='bottom'></a>
      </div>
      <div id='docindex'>
        <div class='headline'>
          <a style="color: red;" href="/">RVM Documentation Index</a>
          |
          <a href="/blog/">RVM Blog</a>
        </div>
        <div class='headline'>
          <label for="docsearch-input">Search:</label>
          <input id="docsearch-input" type="text" />
        </div>
        <div class='column'>
          <a href="/rvm/">RVM</a>
          <ul><li><a href="/rvm/about/">About</a></li>
          <li><a href="/rvm/autolibs/">Autolibs</a></li>
          <li><a href="/rvm/basics/">Basics</a></li>
          <li><a href="/rvm/best-practices/">Best Practices</a></li>
          <li><a href="/rvm/cli/">Cli</a></li>
          <li><a href="/rvm/configuration/">Configuration</a></li>
          <li><a href="/rvm/info/">Info</a></li>
          <li><a href="/rvm/install/">Install</a></li>
          <li><a href="/rvm/myths/">Myths</a></li>
          <li><a href="/rvm/offline/">Offline</a></li>
          <li><a href="/rvm/prerequisites/">Prerequisites</a></li>
          <li><a href="/rvm/security/">Security</a></li>
          <li><a href="/rvm/upgrading/">Upgrading</a></li></ul>
          <a href='/interpreters/'>Interpreters</a>
          <ul>
            <li>
              <a href='/interpreters/ruby/'>MRI/YARV (ruby)</a>
            </li>
            <li>
              <a href='/interpreters/jruby/'>JRuby (jruby)</a>
            </li>
            <li>
              <a href='/interpreters/rbx/'>Rubinius (rbx)</a>
            </li>
          </ul>
          <a href="/rubies/">Rubies</a>
          <ul><li><a href="/rubies/alias/">Alias</a></li>
          <li><a href="/rubies/default/">Default</a></li>
          <li><a href="/rubies/docs/">Docs</a></li>
          <li><a href="/rubies/info/">Info</a></li>
          <li><a href="/rubies/installing/">Installing</a></li>
          <li><a href="/rubies/list/">List</a></li>
          <li><a href="/rubies/named/">Named</a></li>
          <li><a href="/rubies/patching/">Patching</a></li>
          <li><a href="/rubies/removing/">Removing</a></li>
          <li><a href="/rubies/rubygems/">Rubygems</a></li>
          <li><a href="/rubies/strings/">Strings</a></li>
          <li><a href="/rubies/uninstalling/">Uninstalling</a></li>
          <li><a href="/rubies/upgrading/">Upgrading</a></li></ul>
        </div>
        <div class='column'>
          <a href="/gemsets/">Gemsets</a>
          <ul><li><a href="/gemsets/basics/">Basics</a></li>
          <li><a href="/gemsets/clear/">Clear</a></li>
          <li><a href="/gemsets/copying/">Copying</a></li>
          <li><a href="/gemsets/creating/">Creating</a></li>
          <li><a href="/gemsets/deleting/">Deleting</a></li>
          <li><a href="/gemsets/emptying/">Emptying</a></li>
          <li><a href="/gemsets/exporting/">Exporting</a></li>
          <li><a href="/gemsets/global/">Global</a></li>
          <li><a href="/gemsets/ignoring/">Ignoring</a></li>
          <li><a href="/gemsets/importing/">Importing</a></li>
          <li><a href="/gemsets/initial/">Initial</a></li>
          <li><a href="/gemsets/listing/">Listing</a></li>
          <li><a href="/gemsets/using/">Using</a></li></ul>
          <a href='/set/'>Set Actions</a>
          <ul>
            <li>
              <a href='/set/do/'>do</a>
            </li>
            <li>
              <a href='/set/tests/'>tests</a>
            </li>
            <li>
              <a href='/set/benchmark/'>benchmark</a>
            </li>
          </ul>
          <a href="/workflow/">Workflow</a>
          <ul><li><a href="/workflow/chruby/">Chruby</a></li>
          <li><a href="/workflow/completion/">Completion</a></li>
          <li><a href="/workflow/examples/">Examples</a></li>
          <li><a href="/workflow/hooks/">Hooks</a></li>
          <li><a href="/workflow/irbrc/">Irbrc</a></li>
          <li><a href="/workflow/projects/">Projects</a></li>
          <li><a href="/workflow/prompt/">Prompt</a></li>
          <li><a href="/workflow/proxy/">Proxy</a></li>
          <li><a href="/workflow/rvmrc/">Rvmrc</a></li>
          <li><a href="/workflow/screen/">Screen</a></li>
          <li><a href="/workflow/scripting/">Scripting</a></li>
          <li><a href="/workflow/subshells/">Subshells</a></li></ul>
          <a href="/deployment/">Deployment</a>
          <ul><li><a href="/deployment/best-practices/">Best Practices</a></li>
          <li><a href="/deployment/capistrano/">Capistrano</a></li>
          <li><a href="/deployment/chef/">Chef</a></li>
          <li><a href="/deployment/cron/">Cron</a></li>
          <li><a href="/deployment/god/">God</a></li>
          <li><a href="/deployment/init-d/">Init D</a></li>
          <li><a href="/deployment/passenger/">Passenger</a></li></ul>
        </div>
        <div class='column'>
          <a href="/integration/">Integration</a>
          <ul><li><a href="/integration/bundler/">Bundler</a></li>
          <li><a href="/integration/capistrano/">Capistrano</a></li>
          <li><a href="/integration/chef/">Chef</a></li>
          <li><a href="/integration/cron/">Cron</a></li>
          <li><a href="/integration/culerity/">Culerity</a></li>
          <li><a href="/integration/databases/">Databases</a></li>
          <li><a href="/integration/emacs/">Emacs</a></li>
          <li><a href="/integration/engineyard/">Engineyard</a></li>
          <li><a href="/integration/fish/">Fish</a></li>
          <li><a href="/integration/gnome-terminal/">Gnome Terminal</a></li>
          <li><a href="/integration/god/">God</a></li>
          <li><a href="/integration/heroku/">Heroku</a></li>
          <li><a href="/integration/init-d/">Init D</a></li>
          <li><a href="/integration/jenkins/">Jenkins</a></li>
          <li><a href="/integration/konsole/">Konsole</a></li>
          <li><a href="/integration/lxterminal/">Lxterminal</a></li>
          <li><a href="/integration/macports-before-autolibs/">Macports Before Autolibs</a></li>
          <li><a href="/integration/macports/">Macports</a></li>
          <li><a href="/integration/memprof/">Memprof</a></li>
          <li><a href="/integration/passenger/">Passenger</a></li>
          <li><a href="/integration/pow/">Pow</a></li>
          <li><a href="/integration/qtruby/">Qtruby</a></li>
          <li><a href="/integration/scripting/">Scripting</a></li>
          <li><a href="/integration/simple-terminal/">Simple Terminal</a></li>
          <li><a href="/integration/sketchup/">Sketchup</a></li>
          <li><a href="/integration/sudo/">Sudo</a></li>
          <li><a href="/integration/teamcity/">Teamcity</a></li>
          <li><a href="/integration/textmate/">Textmate</a></li>
          <li><a href="/integration/tk/">Tk</a></li>
          <li><a href="/integration/ubuntu-on-windows/">Ubuntu On Windows</a></li>
          <li><a href="/integration/vagrant/">Vagrant</a></li>
          <li><a href="/integration/vim/">Vim</a></li>
          <li><a href="/integration/xterm/">Xterm</a></li>
          <li><a href="/integration/zsh/">Zsh</a></li></ul>
        </div>
        <div class='column'>
          <a href='/packages/'>Packages</a>
          <a href='/presentations/'>Presentations</a>
          <ul>
            <li>
              <a href='http://www.confreaks.com/videos/3-mwrc2010-managing-ruby-projects-with-rvm'>MWRC 2010</a>
            </li>
            <li>
              <a href='http://confreaks.tv/videos/railsconf2012-rvm-essential-rails-development-tools'>RailsConf 2012</a>
            </li>
            <li>
              <a href='http://confreaks.tv/videos/railsconf2013-developing-rails-apps-in-technical-isolation'>RailsConf 2013</a>
            </li>
            <li>
              <a href='http://thechangelog.com/66/'>Changelog 66 with Wayne</a>
            </li>
            <li>
              <a href='http://www.youtube.com/watch?v=wN-iIC3S1ZM'>RVM 2: Lessons and future</a>
            </li>
            <li>
              <a href='http://www.youtube.com/watch?v=gYNht8H24ZQ'>RVM 2: Python Version Manager</a>
            </li>
            <li>
              <a href='http://thechangelog.com/102/'>Changelog 102 with Michal</a>
            </li>
          </ul>
          <a href='/support/'>Help &amp; Support</a>
          <ul>
            <li>
              <a href='/support/irc/'>Issues tracker</a>
            </li>
            <li>
              <a href='/support/faq/'>FAQ &amp; Notes</a>
            </li>
            <li>
              <a href='/support/troubleshooting/'>Troubleshooting</a>
            </li>
            <li>
              <a href='/support/fixing-broken-ssl-certificates/'>Fixing Broken SSL Certificates</a>
            </li>
          </ul>
          <a href="/qa/">Quality Assurance</a>
          <ul><li><a href="/qa/software_testing/">Software_testing</a></li></ul>
          <a href="/development/">Development</a>
          <ul><li><a href="/development/contributing/">Contributing</a></li>
          <li><a href="/development/debugging/">Debugging</a></li>
          <li><a href="/development/github/">Github</a></li>
          <li><a href="/development/list/">List</a></li></ul>
          <a href='/credits/'>Credits</a>
          <ul>
            <li>
              <a href='/credits/thanks/'>Contributions</a>
            </li>
            <li>
              <a href='/credits/donations/'>Donations</a>
            </li>
            <li>
              <a href='/credits/funding/'>Funding</a>
            </li>
          </ul>
        </div>
        <div class='clear'></div>
      </div>
    </div>
    <div id='footer'>
      <div id='footer-container'>
        &infin;
        Copyright
        &copy; 2009-2011
        <a href='https://github.com/wayneeseguin'>Wayne E. Seguin</a>
        &copy; 2011-2017
        <a href='https://github.com/mpapis'>Michal Papis</a>
        &copy; 2016-2017
        <a href='https://github.com/pkuczynski'>Piotr Kuczynski</a>
        &infin;
        Built with
        <a href='http://nanoc.ws'>Nanoc</a>
        &infin;
        Cached by
        <a href='https://www.fastly.com/'>Fastly</a>
        &infin;
        Tested by
        <a href='http://www.travis-ci.org/'>Travis CI</a>
      </div>
      <script src="https://www.google.com/jsapi" type="text/javascript"></script>
      <script>
        google.load('search', '1', {language : 'en', style : google.loader.themes.SHINY});
        google.setOnLoadCallback(function() {
          var customSearchControl = new google.search.CustomSearchControl('012125088244772422662:eplzzxbbjte');
          customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
          customSearchControl.draw('cse');
        }, true);
      </script>
      <script src="https://www.google.com/jsapi?key=ABQIAAAAlfGITCLCzrcO4cy2viT78RSZcRLSY2B0NYnmYEy-3gaXzTHyQxRduJj7nQ6rEtYNpUjIQpEEosF5XA" type="text/javascript"></script>&#x000A;<script src="/javascripts/site.js" type="text/javascript"></script>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-24992786-1', 'rvm.io'); // owner unknown :(
        ga('send', 'pageview');
        ga('create', 'UA-45354940-1', 'rvm.io', {'name': 'ga_mpapis'}); // owner mpapis@gmail.com
        ga('ga_mpapis.send', 'pageview');
      </script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
      <script>
        docsearch({
        apiKey: '511953e6f628103639db56a6f0f96977',
        indexName: 'rvm',
        inputSelector: '#docsearch-input',
        debug: false // Set debug to true if you want to inspect the dropdown
        });
      </script>
    </div>
  </body>
</html>
